<!DOCTYPE html>\n<html lang="es">\n<head>\n<meta charset="UTF-8">\n<title>Gestión de Propietarios</title>\n<style>\n  body{font-family:Arial,sans-serif;margin:0;padding:20px;background:#f4f4f4;}\n  h1{color:#333;}\n  nav a{margin-right:15px;text-decoration:none;color:#0066cc;}\n  table{width:100%;border-collapse:collapse;margin-top:20px;}\n  th,td{padding:10px;border-bottom:1px solid #ddd;text-align:left;}\n  th{background:#e2e2e2;}\n  button{margin-right:5px;padding:5px 10px;background:#0066cc;color:white;border:none;cursor:pointer;}\n  button:hover{background:#004999;}\n  form{margin-top:20px;background:#fff;padding:15px;border-radius:5px;}\n  label{display:block;margin-top:10px;}\n  input{width:100%;padding:8px;margin-top:5px;box-sizing:border-box;}\n</style>\n</head>\n<body>\n<nav><a href="index.html">Inmuebles</a><a href="propietarios.html">Propietarios</a></nav>\n<h1>Listado de Propietarios</h1>\n<table id="propTable"><thead><tr><th>ID</th><th>Nombre</th><th>Email</th><th>Teléfono</th><th>Acciones</th></tr></thead><tbody></tbody></table>\n<form id="addPropForm"><h2>Añadir Propietario</h2><label>Nombre<input type="text" name="nombre" required></label><label>Email<input type="email" name="email"></label><label>Teléfono<input type="text" name="telefono"></label><button type="submit">Añadir</button></form>\n<script>\nconst apiBase='/api';\nasync function fetchJSON(url,opts={}){try{const res=await fetch(apiBase+url,opts);if(!res.ok){throw new Error(await res.text());}return await res.json();}catch(e){alert('Error: '+e.message);throw e;}}\nasync function loadPropietarios(){const propietarios=await fetchJSON('/propietarios');const tbody=document.querySelector('#propTable tbody');tbody.innerHTML='';propietarios.forEach(p=>{const tr=document.createElement('tr');tr.innerHTML=`<td>${p.id}</td><td>${p.nombre}</td><td>${p.email||'—'}</td><td>${p.telefono||'—'}</td><td><button onclick="editProp(${p.id})">Editar</button><button onclick="deleteProp(${p.id})">Eliminar</button></td>`;tbody.appendChild(tr);});}\nasync function addProp(e){e.preventDefault();const data={...Object.fromEntries(new FormData(e.target))};await fetchJSON('/propietarios',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});e.target.reset();loadPropietarios();}\nasync function deleteProp(id){if(!confirm('¿Eliminar propietario?'))return;await fetchJSON(`/propietarios/${id}`,{method:'DELETE'});loadPropietarios();}\nfunction editProp(id){const input=prompt('Nuevo nombre:');if(input===null)return;fetchJSON(`/propietarios/${id}`,{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({nombre:input})}).then(()=>loadPropietarios());}\ndocument.getElementById('addPropForm').addEventListener('submit',addProp);window.addEventListener('DOMContentLoaded',loadPropietarios);\n</script>\n</body>\n</html>